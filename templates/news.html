{% extends "base.html" %} {% block content %}
<div class="text-center mb-5">
  <h1 class="display-4 fw-bold text-gradient">Azure AI Foundry News Digest</h1>
  <p class="lead text-muted">Curated updates powered by AI</p>
</div>

<div id="newsLoader" class="text-center my-5">
  <div class="spinner-border text-primary" role="status"></div>
  <p class="mt-3 fw-bold">Fetching the latest news...</p>
</div>

<div id="newsGrid" class="row g-4 d-none"></div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    fetch('/api/news')
      .then((res) => res.json())
      .then((data) => {
        const grid = document.getElementById('newsGrid');
        const loader = document.getElementById('newsLoader');

        loader.classList.add('d-none');
        grid.classList.remove('d-none');

        data.articles.forEach((article) => {
          const card = document.createElement('div');
          card.className = 'col-md-6 col-lg-4';
          card.innerHTML = `
          <div class="card h-100 shadow-sm border-0 rounded-4 transition-hover">
            <div class="card-body d-flex flex-column p-4">
              <h5 class="card-title fw-bold mb-3">${article.headline}</h5>
              <p class="card-text text-muted mb-4">${article.summary}</p>
              
            </div>
          </div>`;
          grid.appendChild(card);
        });
      });
  });
</script>
{% endblock %}
